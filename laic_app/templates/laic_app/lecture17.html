{% extends 'laic_app/lecturebase.html' %}

{% block video %}
    <iframe width="560" height="315"
        src="https://www.youtube.com/embed/0MtwqhIwdrI"
        frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
    </iframe>
{% endblock video %}

{% block keyIdeas %}
    <li>Take an orthogonal basis of unit vectors q<sub>1</sub>, q<sub>2</sub>, ..., q<sub>n</sub> which are all orthogonal to each other.
        An orthonormal basis can be defiend as the case where 
        q<sub>i</sub><sup>T</sup>*q<sub>j</sub> = 0 if i &#8800 j and q<sub>i</sub><sup>T</sup>*q<sub>j</sub> = 1 if i = j</li>
    <li>Take a matrix Q with orthonormal columns q<sub>1</sub> ... q<sub>n</sub> as columns; then Q<sup>T</sup>Q = I</li>
    <li>If Q is square, then it is an orthogonal matrix and Q<sup>T</sup>Q = I implies that Q<sup>T</sup> = Q<sup>-1</sup></li>
    <li>Take a matrix Q with orthonormal columns. Its projection onto its column space
        P = QQ<sup>T</sup> (which = I if Q is square)
    </li>
    <li>Taking A<sup>T</sup>Ax&#770 = A<sup>T</sup>b from the previous section, A is now Q so we have x&#770 = Q<sup>T</sup>b
    which implies x&#770<sub>i</sub> = q<sub>i</sub><sup>T</sup>b</li>
    <li>Gram-Schmidt: process by which we can take two independent vectors that are not orthogonal and make them orthogonal</li>
    <li>Take two non-orthogonal independent vectors a and b. Let a = A. The projection of b onto a creates a perpendicular from a to b, call it B,
        which = b - (A<sup>T</sup>b / A<sup>T</sup>A)A where A is orthogonal to B
    </li>
    <li>To get a third vector C orthogonal to both A and B, C = c - (A<sup>T</sup>c / A<sup>T</sup>A)A - (B<sup>T</sup>c / B<sup>T</sup>B)B</li>
    <li>The matrix Q consisting of orthonormal vectors after the Gram-Schmidt process multiplied by some matrix R
        gets us back to A (A = QR). R is upper-triangular
    </li>
{% endblock keyIdeas %}

{% block inCode %}
    <li>Showing that Q<sup>T</sup> = Q<sup>-1</sup> and Q<sup>T</sup>Q = I where Q is a 3x3 permutation matrix</li>
    <li>Gram-Schmidt process for 2 vectors</li>
{% endblock inCode %}

{% block code %}
    <div id="highlighterMainDiv_65406" class="syntaxhighlighter nogutter python"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td>&nbsp;</td></tr><tr><td id="codeContainer_65406" class="code"><div id="container_65406" class="container"><div id="codeline" class="line number1 index0 alt2"><code class="python comments"># LECTURE 17 - Orthogonal Matrices and Gram-Schmidt</code></div><div id="codeline" class="line number2 index1 alt1">&nbsp;</div><div id="codeline" class="line number3 index2 alt2"><code class="python keyword">import</code> <code class="python plain">numpy as np</code></div><div id="codeline" class="line number4 index3 alt1">&nbsp;</div><div id="codeline" class="line number5 index4 alt2"><code class="python comments"># Showing that Q tranpose =&nbsp; inverse and Q transpose * Q = I where Q is a 3x3 permutation matrix</code></div><div id="codeline" class="line number6 index5 alt1">&nbsp;</div><div id="codeline" class="line number7 index6 alt2"><code class="python plain">Q </code><code class="python keyword">=</code> <code class="python plain">np.array([[</code><code class="python value">0</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">], [</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">], [</code><code class="python value">0</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">]])</code></div><div id="codeline" class="line number8 index7 alt1">&nbsp;</div><div id="codeline" class="line number9 index8 alt2"><code class="python functions">print</code><code class="python plain">(f</code><code class="python string">'Q = \n{Q}\nQ transpose = \n{Q.transpose()}\nQ inverse = \n{np.linalg.inv(Q)}\nQ tranpose * Q = \n{np.inner(Q.transpose(), np.linalg.inv(Q))}'</code><code class="python plain">)</code></div><div id="codeline" class="line number10 index9 alt1">&nbsp;</div><div id="codeline" class="line number11 index10 alt2"><code class="python comments">#OUTPUT:</code></div><div id="codeline" class="line number12 index11 alt1"><code class="python comments">'''</code></div><div id="codeline" class="line number13 index12 alt2"><code class="python comments">Q =</code></div><div id="codeline" class="line number14 index13 alt1"><code class="python comments">[[0 0 1]</code></div><div id="codeline" class="line number15 index14 alt2"><code class="python spaces">&nbsp;</code><code class="python comments">[1 0 0]</code></div><div id="codeline" class="line number16 index15 alt1"><code class="python spaces">&nbsp;</code><code class="python comments">[0 1 0]]</code></div><div id="codeline" class="line number17 index16 alt2"><code class="python comments">Q transpose =</code></div><div id="codeline" class="line number18 index17 alt1"><code class="python comments">[[0 1 0]</code></div><div id="codeline" class="line number19 index18 alt2"><code class="python spaces">&nbsp;</code><code class="python comments">[0 0 1]</code></div><div id="codeline" class="line number20 index19 alt1"><code class="python spaces">&nbsp;</code><code class="python comments">[1 0 0]]</code></div><div id="codeline" class="line number21 index20 alt2"><code class="python comments">Q inverse =</code></div><div id="codeline" class="line number22 index21 alt1"><code class="python comments">[[0. 1. 0.]</code></div><div id="codeline" class="line number23 index22 alt2"><code class="python spaces">&nbsp;</code><code class="python comments">[0. 0. 1.]</code></div><div id="codeline" class="line number24 index23 alt1"><code class="python spaces">&nbsp;</code><code class="python comments">[1. 0. 0.]]</code></div><div id="codeline" class="line number25 index24 alt2"><code class="python comments">Q tranpose * Q =</code></div><div id="codeline" class="line number26 index25 alt1"><code class="python comments">[[1. 0. 0.]</code></div><div id="codeline" class="line number27 index26 alt2"><code class="python spaces">&nbsp;</code><code class="python comments">[0. 1. 0.]</code></div><div id="codeline" class="line number28 index27 alt1"><code class="python spaces">&nbsp;</code><code class="python comments">[0. 0. 1.]]</code></div><div id="codeline" class="line number29 index28 alt2"><code class="python comments">'''</code></div><div id="codeline" class="line number30 index29 alt1">&nbsp;</div><div id="codeline" class="line number31 index30 alt2"><code class="python comments"># Gram-Schmidt process for 2 vectors</code></div><div id="codeline" class="line number32 index31 alt1">&nbsp;</div><div id="codeline" class="line number33 index32 alt2"><code class="python plain">a </code><code class="python keyword">=</code> <code class="python plain">np.array([</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">, </code><code class="python value">1</code><code class="python plain">], dtype </code><code class="python keyword">=</code> <code class="python functions">float</code><code class="python plain">)</code></div><div id="codeline" class="line number34 index33 alt1"><code class="python plain">b </code><code class="python keyword">=</code> <code class="python plain">np.array([</code><code class="python value">1</code><code class="python plain">, </code><code class="python value">0</code><code class="python plain">, </code><code class="python value">2</code><code class="python plain">])</code></div><div id="codeline" class="line number35 index34 alt2">&nbsp;</div><div id="codeline" class="line number36 index35 alt1"><code class="python plain">A </code><code class="python keyword">=</code> <code class="python plain">a</code></div><div id="codeline" class="line number37 index36 alt2"><code class="python plain">B </code><code class="python keyword">=</code> <code class="python plain">b </code><code class="python keyword">-</code> <code class="python plain">((np.dot(A.transpose(), b) </code><code class="python keyword">/</code> <code class="python plain">(np.dot(A.transpose(), A)) </code><code class="python keyword">*</code> <code class="python plain">A))</code></div><div id="codeline" class="line number38 index37 alt1">&nbsp;</div><div id="codeline" class="line number39 index38 alt2"><code class="python functions">print</code><code class="python plain">(f</code><code class="python string">'B = \n{B}'</code><code class="python plain">)</code></div><div id="codeline" class="line number40 index39 alt1"><code class="python functions">print</code><code class="python plain">(f</code><code class="python string">'Check that A and B are orthogonal: A dot B = {np.dot(A, B)}'</code><code class="python plain">)</code></div><div id="codeline" class="line number41 index40 alt2">&nbsp;</div><div id="codeline" class="line number42 index41 alt1"><code class="python plain">magnitudeA </code><code class="python keyword">=</code> <code class="python plain">np.linalg.norm(A)</code></div><div id="codeline" class="line number43 index42 alt2"><code class="python plain">magnitudeB </code><code class="python keyword">=</code> <code class="python plain">np.linalg.norm(B)</code></div><div id="codeline" class="line number44 index43 alt1">&nbsp;</div><div id="codeline" class="line number45 index44 alt2"><code class="python keyword">for</code> <code class="python plain">i </code><code class="python keyword">in</code> <code class="python functions">range</code><code class="python plain">(</code><code class="python value">0</code><code class="python plain">, </code><code class="python functions">len</code><code class="python plain">(A)):</code></div><div id="codeline" class="line number46 index45 alt1"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">A[i] </code><code class="python keyword">=</code> <code class="python functions">round</code><code class="python plain">(A[i] </code><code class="python keyword">/</code> <code class="python plain">magnitudeA, </code><code class="python value">3</code><code class="python plain">)</code></div><div id="codeline" class="line number47 index46 alt2"><code class="python spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="python plain">B[i] </code><code class="python keyword">=</code> <code class="python functions">round</code><code class="python plain">(B[i] </code><code class="python keyword">/</code> <code class="python plain">magnitudeB, </code><code class="python value">3</code><code class="python plain">)</code></div><div id="codeline" class="line number48 index47 alt1">&nbsp;</div><div id="codeline" class="line number49 index48 alt2"><code class="python functions">print</code><code class="python plain">(f</code><code class="python string">'a and b as unit vectors q1 and q2 (which make up the orthonormal basis): \n{A}\n{B}'</code><code class="python plain">)</code></div><div id="codeline" class="line number50 index49 alt1">&nbsp;</div><div id="codeline" class="line number51 index50 alt2"><code class="python comments">#OUTPUT:</code></div><div id="codeline" class="line number52 index51 alt1"><code class="python comments">'''</code></div><div id="codeline" class="line number53 index52 alt2"><code class="python comments">B =</code></div><div id="codeline" class="line number54 index53 alt1"><code class="python comments">[ 0. -1.&nbsp; 1.]</code></div><div id="codeline" class="line number55 index54 alt2"><code class="python comments">Check that A and B are orthogonal: A dot B = 0.0</code></div><div id="codeline" class="line number56 index55 alt1"><code class="python comments">a and b as unit vectors q1 and q2 (which make up the orthonormal basis):</code></div><div id="codeline" class="line number57 index56 alt2"><code class="python comments">[0.577 0.577 0.577]</code></div><div id="codeline" class="line number58 index57 alt1"><code class="python comments">[ 0.&nbsp;&nbsp;&nbsp; -0.707&nbsp; 0.707]</code></div><div id="codeline" class="line number59 index58 alt2"><code class="python comments">'''</code></div></div></td></tr><tr><td>&nbsp;</td></tr><tr><td>&nbsp;</td></tr></tbody></table></div>
{% endblock code %}